根据您工作区中的 `阅读顺序.md` 文件，建议的 prosemirror-transform 代码阅读顺序是**从底层抽象到上层封装**，具体如下：

### 详细阅读顺序

这是一个由浅入深的路径，分为四个“站点”：

1.  **第 1 站：`Step` - 变化的基本单位**

    - **目标**：理解什么是“原子修改”。
    - **阅读文件**：
      - `step.ts`：阅读抽象基类 `Step`，理解其核心方法 `apply`、`invert`、`map`。
      - `replace_step.ts`：阅读最重要和最常见的 `ReplaceStep` 和 `ReplaceAroundStep`。
      - `mark_step.ts` 和 `attr_step.ts`：阅读用于处理标记和节点属性的 `Step`。

2.  **第 2 站：`StepMap` & `Mapping` - 位置的追踪者**

    - **目标**：理解当文档内容增删时，位置坐标是如何被追踪和转换的。
    - **阅读文件**：`map.ts`：理解 `StepMap`（单个步骤的位置映射）和 `Mapping`（一系列步骤的累积映射）的区别与联系。

3.  **第 3 站：`Transform` - 变化的指挥官**

    - **目标**：理解如何将多个 `Step` 组合成一个完整的变换事务。
    - **阅读文件**：`transform.ts`：阅读 `Transform` 类，这是开发者最常直接交互的对象。重点关注 `step()` 方法以及它如何维护 `steps`、`docs` 和 `mapping`。

4.  **第 4 站：高级 API - 便捷的操作封装**
    - **目标**：理解 ProseMirror 提供的便捷 API 是如何工作的。
    - **阅读文件**：
      - `replace.ts`：这是最核心的变换逻辑，尤其是 `Fitter` 类，它实现了将任意内容“适配”并插入文档的复杂算法。
      - `structure.ts`：阅读 `lift`、`wrap`、`split`、`join` 等用于修改文档结构的高级函数。
      - `mark.ts`：阅读 `addMark` 和 `removeMark` 的实现。

### 总结性顺序

如果您想要一个更精炼的顺序概览，可以遵循以下路径：

- **起点**: `index.ts` - 查看模块导出了哪些核心类和函数。
- **核心抽象**: `step.ts` -> `map.ts` -> `transform.ts`
- **核心实现**: `replace_step.ts` -> `replace.ts` (尤其是 `Fitter` 类)
- **功能扩展**: `structure.ts`, `mark.ts`, `attr_step.ts`
